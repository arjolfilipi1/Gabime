{% extends "base.html" %}

{% block content %}
<div class="container w-100">
<div class="container "> <a href="/?id={{op.num}}"><h3 class=" btn-success  text-center"">{{op.eq}}</h3> </div></a>
<form >
  <div class="form-group">
  <label for="lloj">Tipi i pajisjes:</label>
  <select name="lloj" id="l" default="NX4e_HEV">
  {% if op.eq == 'NX4e'  %}
    <option value="NX4e"  >NX4e</option>
    <option value="NX4e_HEV">NX4e_HEV</option>
	{%endif%}
	{% if op.eq == 'NQ5e'  %}
    <option value="NQ5e">NQ5e</option>
    <option value="NQ5e_hev">NQ5e_hev</option>
	{%endif%}
	{% if op.eq == 'O'  %}
	<option value="NX4e"  >NX4e</option>
    <option value="NX4e_HEV">NX4e_HEV</option>
	<option value="NQ5e">NQ5e</option>
    <option value="NQ5e_hev">NQ5e_hev</option>
	{%endif%}
  </select>
  <br>
    <label for="cir">Circuiti</label>
    <input   class="form-control" name=cir id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Teli" 
	{% if slug %}
	value="{{slug}}"  readonly
	{% endif %}
	>
	<label for="lot">Loti</label>
	<input   class="form-control " name=lot id="lot" aria-describedby="emailHelp" placeholder="34000000" value="{{lot}}" required>
	<label for="ac_code">Loti</label>
	<input   class="form-control " name=ac_code id="ac_code" aria-describedby="emailHelp" placeholder="34000000" value="{{lot}}" required>
	<input   class="form-control d-none" name=id id="id" aria-describedby="emailHelp" placeholder="12000" value="{{id}}">
  </div>
 <div class="form-group container">

{% if start %}   
<div id="radio1" class="form-check">
  <input class="form-check-input" type="radio" name="flexRadioDefault" id="con" value="{{start}}">
  <label class="form-check-label" for="flexRadioDefault1">
    {{start}}
  </label>
</div>
{% endif %}
{% if end %}
<div id="radio2" class="form-check">
  <input class="form-check-input" type="radio" name="flexRadioDefault" id="con" checked value="{{end}}">
  <label class="form-check-label" for="flexRadioDefault2">
    {{end}}
  </label>
</div>
{% endif %}

{% if start or end%}
<div class="container">

<input   class="form-control d-none" name=defekt id="defekt" aria-describedby="emailHelp" value="Vendosje e gabuar">
<label class="form-check-label" for="DEFECT">Kodi i difektit</label>
<select  id="defekt_s" class="form-select" aria-label="Default select example">

	<option value="Vendosje e gabuar">Vendosje e gabuar </option>
	<option value="Mungese qarku">Mungese qarku</option>
	<option value="Nuk ka kontakt">Nuk ka kontakt</option>
	<option value="Fije ne fashim">Fije ne fashim</option>
	<option value="Mungese vule">Mungese vule</option>
	<option value="Vule e demtuar">Vule e demtuar</option>
	<option value="Konektor i gabuar">Konektor i gabuar</option>
	<option value="Konektor i demtuar">Konektor i demtuar</option>
	<option value="Terminal i gabuar">Terminal i gabuar</option>
	<option value="Terminal i demtuar">Terminal i demtuar</option>
	<option value="Fije shtese">Fije shtese</option>
	<option value="Presime Boshe">Presime Boshe</option>
	<option value="Mungese konektori">Mungese konektori</option>
	<option value="SHORT">SHORT</option>
	<option value="EXTRA">EXTRA</option>
	<option value="CLICK">CLICK</option>
	<option value="HERMETIK">HERMETIK</option>
</select>
</div>
<div class="container">
<label class="form-check-label" for="ASSY">Lideri i ASSY</label>

	{% if op.eq == 'NX4e'  %}
	<input   class="form-control d-none" name=assy id="assy" aria-describedby="emailHelp" value="BSH">
	<select class="form-select" id="assy_s" aria-label="Default select example">
	<option value="BSH">BSH</option>
	<option value="AM">AM</option>
	<option value="GP">GP</option>
	<option value="MR">MR</option>
	<option value="GM">GM</option>
	<option value="DH">DH</option>
	</select>
	{% endif %}
	{% if op.eq == 'NQ5e'  %}
	
	<input   class="form-control d-none" name=assy id="assy" aria-describedby="emailHelp" value="VXH">
	<select class="form-select" id="assy_s" aria-label="Default select example">
	<option value="VXH">VXH</option>
	<option value="EL">EL</option>
	<option value="AK">AK</option>
	<option value="EK">EK</option>
	<option value="ELL">ELL</option>
	<option value="BM">BM</option>
	<option value="SD">SD</option>
	<option value="AD">AD</option>
	<option value="FB">FB</option>
	</select>
	{% endif %}
	{% if op.eq == 'O'  %}
	<input   class="form-control d-none" name=assy id="assy" aria-describedby="emailHelp" value="BSH">
	<select class="form-select" id="assy_s" aria-label="Default select example">
	<option value="BSH">BSH</option>
	<option value="AM">AM</option>
	<option value="GP">GP</option>
	<option value="MR">MR</option>
	<option value="GM">GM</option>
	<option value="DH">DH</option>
	<option value="VXH">VXH</option>
	<option value="EL">EL</option>
	<option value="AK">AK</option>
	<option value="EK">EK</option>
	<option value="ELL">ELL</option>
	<option value="BM">BM</option>
	<option value="SD">SD</option>
	<option value="AD">AD</option>
	<option value="FB">FB</option>
	{% endif %}

</div>


<div class="container">
<label class="form-check-label" for="sub">Lideri i SUB</label>
	{% if op.eq == 'NX4e' %}
	<input   class="form-control d-none" name=sub id="sub" aria-describedby="emailHelp" value="VXH">
	<select class="form-select" aria-label="Default select example">
	<option value="MB">MB</option>
	<option value="AM">AM</option>
	</select>
	{% endif %}
	{% if op.eq == 'NQ5e' %}
	<input   class="form-control d-none" name=sub id="sub" aria-describedby="emailHelp" value="MZ">
	<select class="form-select" id="sub_s" aria-label="Default select example">
	<option value="MZ">MZ</option>
	<option value="MD">MD</option>
	</select>
	{% endif %}
	{% if op.eq == 'O' %}
	<input   class="form-control d-none" name=sub id="sub" aria-describedby="emailHelp" value="MZ">
	<select class="form-select" id="sub_s" aria-label="Default select example">
	<option value="MZ">MZ</option>
	<option value="MD">MD</option>
	<option value="MB">MB</option>
	<option value="AM">AM</option>
	</select>
	{% endif %}
</div>

<div class="container">
<label class="form-check-label" for="ASSY">Veprimi</label>
<input   class="form-control d-none" name=masa id="masa" aria-describedby="emailHelp" value="Refuzim">
<select class="form-select" id="masa_s" aria-label="Default select example">

	<option value="Refuzim">Refuzim</option>
	<option value="Riparim">Riparim</option>
</select>
</div>
{%  endif %}

</div>
  </div>
  <div class="form-group form-check d-flex justify-content-center">
  <br>
  <button type="submit"  class="btn btn-primary ">Ploteso</button>
</form>
</div>
<div class="container">
    
    <table class="table table-bordered">
    <thead>
      <tr>
        <th class="btn-primary">Teli</th>
		<th class="btn-danger">Loti</th>
		<th class="btn-warning">Lloji</th>
        <th class="btn-warning">Grupi</th>
        <th class="btn-secondary">Konektori</th>
        <th class="btn-danger">Koha</th>
		<th class="btn-danger">Defekti</th>
		<th class="btn-danger">Assy</th>
		<th class="btn-danger">SUB</th>
      </tr>
    </thead>
    <tbody>
      
     {% for article in Last %} 
      
      <tr>
        <td>{{ article.cir }}</td>
		<td>{{ article.lot }}</td>
		<td>{{ article.eq }}</td>
        <td class="btn btn-warning">{{article.grup }}</td>
	
	<td class="btn-secondary">{{article.pos }}</td>
        <td>{{ article.cd}}</td>
		<td>{{ article.defect_code}}</td>
		<td>{{ article.lider_assy}}</td>
		<td>{{ article.lider_sub}}</td>
      </tr>
      {%endfor%}
      
      </tbody>
    </table>
    </div>

<div class="container">
<a class="btn-success" href='r?id={{op.num}}'>Shkarko</a>
</div>


{% endblock content %}

{% block script %}
<script>
if({{id}}){

if('{{op.eq}}'=="NX4e"){
availableTags=NX4e;
};
if('{{op.eq}}'=="NQ5e"){
availableTags=NQ5e;
};
if('{{op.eq}}'=='O'){
availableTags=wire;
};
};
{% if op.eq == 'NX4e'  %}
var dict = {
  "NX4e":0,
  "NX4e_HEV":1,
  "NQ5e":2,
  "NQ5e_hev":3
};
	{%endif%}
	{% if op.eq == 'NQ5e'  %}
 	var dict = {
  "NQ5e":0,
  "NQ5e_hev":1
};
	{%endif%}
	{% if op.eq == 'O'  %}
	var dict = {
  "NX4e":0,
  "NX4e_HEV":1,
  "NQ5e":2,
  "NQ5e_hev":3
};
	{%endif%}


var lloj = "{{lloj}}";
document.getElementById("l").selectedIndex = dict[lloj];


$(document).ready(function () {
    $('#defekt_s').on('change', function () {
	var s = ($('#defekt_s').val());
	document.getElementById("defekt").value  = s;
    });
	$('#assy_s').on('change', function () {
	var q = ($('#assy_s').val());
	document.getElementById("assy").value  = q;
    });
	$('#sub_s').on('change', function () {
	var w = ($('#sub_s').val());
	document.getElementById("sub").value  = w;
    });
	$('#masa_s').on('change', function () {
	var s = ($('#masa_s').val());
	document.getElementById("masa").value  = s;
    });
  });
  $( function() {
    
//$('#exampleInputEmail1t').autocomplete('setOptions', availableTags);
$( "#exampleInputEmail1" ).autocomplete({source:availableTags});
//$('#exampleInputEmail1t').blur(function(){    if( $(this).val().length === 0 ) {        console.log('warning');    }});


//$( "#exampleInputEmail1" ).autocomplete({      source:availableTags    });  
} );


  </script>

{% endblock script %}

